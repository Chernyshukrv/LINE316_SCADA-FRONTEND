# SCADA – Система для модели промышленной линии
## Описание проекта
Цель проекта - проектирование SCADA – системы для обеспечения ЧМИ модели по обработке и фасовке фишек, включающей в себя четыре ПЛК.

Задачи: 

- Проектирование окон отображения каждой из четырех частей установки

- Создание окон в MasterSCADA 4D 

- Разработка логики для интерактивного интерфейса экранов

- Подключение к установке, импорт и связывание тегов с OPC UA сервера

- Тестирование полученной SCADA-системы на установке и с помощью сервера OPC UA на языке Python для эмуляции процесса

- Формирование Docker-контейнера, загрузка в него основного проекта

## Сведения об установке
Установка производства Festo включает в себя четыре части, к каждой из которых подключен отдельный программируемый логический контроллер:

- Processing station: 
  - Круговой конвейер
  - Цилиндрическое сверло
  - Датчик определения цвета фишки
  - Датчик определения положения фишки

- Handling station: 
  - Манипулятор с захватом для переноса фишек и коробок
  - Датчики нажима для определения положения

- Packing station: 
  - Примитивные манипуляторы для сложения клапанов коробки

- Sorting station: 
  - Конвейер
  - Скаты для каждого цвета фишки
  - Толкатели
  - Датчики пополнения коробок и нахождения коробки на конвейере

Все данные с логических контроллеров поступают на центральный, на котором расположен OPC - сервер, передающий значения в SCADA - систему посредством протокола OPC UA

## Логика работы экранов SCADA - системы

### "Главный экран"

- Содержит название линии

- Содержит 4 кнопки для навигации между окнами

- Содержит кнопку включения и выключения автонавигации, которая обеспечивает автоматическое переключение экрана в зависимости от текущей операции на установке

  ![main](https://github.com/user-attachments/assets/ea005af5-9b76-45d8-aca0-4134ca90d8a3)


### Экран "Обработка"

- Содержит 3 индикатора состояния станции: перемещение заготовки, определение положения, фиксирования заготовки, сверление. На вход получает соответствующие теги:
    - processing_output_1_rotate_carousel
    - processing_input_6_hole_detected
    - processing_output_4_fix_workpiece
    - processing_output_0_drill

- Содержит 3 индикатора цвета поступившей фишки - красный, черный, серебристый. На вход получает соответствующие теги:
    - Red
    - Black
    - Silvery
  

![obr](https://github.com/user-attachments/assets/6ac3a019-5abb-46aa-a3df-02f21c6f445c)


### Экран "Гриппер"
- Содержит 2 индикатора положения гриппера - наверху, внизу. На вход получает соответствующий тег:
    - handling_input_4_gripper_down_pack_lvl

- Содержит 2 индикатора состояния гриппера - открыт, закрыт.На вход получает соответствующий тег:
    - handling_output_6_grippper_to_open

- Содержит визуализация положения гриппера - магазин, упаковка, сортировка. На вход получает соответствующие теги:
  
    - handling_input_2_gripper_at_start
    - handling_input_1_gripper_at_packing_station
    - handling_input_3_gripper_at_right
![grip](https://github.com/user-attachments/assets/462473f1-c925-49fb-a734-4801e051007f)

### Экран "Упаковка" 
- Содержит индикаторы последовательности работы станции: коробку толкнули, крышка зафиксирована, боковые язычки зафиксированы, шайба закрыта в коробке. На вход получает соответствующие теги:
    - packing_output_4_push_box
    - packing_output_5_fix_box_upper_side
    - packing_output_6_fix_box_tongue
    - packing_output_7_pack_box

- Содержит визуализацию смены состояний работы 

![pack](https://github.com/user-attachments/assets/440f3902-4064-4826-ac4b-f2912bc04411)

### Экран "Сортировка" 
- Содержит счетчики отсортированных фишек - количество серебрянных, красных, черных. 

- Содержит индикатор цвета фишки. На вход получает соответствующие переменные, образованные из тегов:
    - Black
    - Silver
    - Red 

- Содержит визуализацию сортировки фишек.
    - sorting_input_3_box_on_conveyor
    - sorting_input_4_box_is_down


![sort](https://github.com/user-attachments/assets/41126ecd-9d22-4ba3-9ac1-bf343e0dcc3b)

## Тестирование полученной SCADA-системы

Для тестирования разработанной SCADA-системы упаковочной линии был создан сервер OPC UA на языке Python с использованием библиотеки opcua. Этот сервер эмулирует работу упаковочной линии, позволяя оценить функциональность SCADA без подключения к реальному оборудованию.

Подробнее об этом можно ознакомиться в репозитории по ссылке: 

https://github.com/anya-popova/LINE316_SCADA_PYTHON_OPCUA

